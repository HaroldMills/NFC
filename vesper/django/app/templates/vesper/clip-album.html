<!DOCTYPE html>
<html lang="en">

<head>

    {% include "vesper/header-prefix.html" %}

    {% if stations %}
        <title>Clip Album</title>
    {% else %}
        <title>Clip Album - Vesper</title>
    {% endif %}

    <script type="module">
        import { init } from '/static/vesper/view/clip-album.js';
        init({
            'clipQuery': {
        	    'stationMicName': '{{station_mic_name}}',
        	    'detectorName': '{{detector_name}}',
        	    'classification': '{{classification}}',
        	    'date': null
            },
            'solarEventTimes': {{solar_event_times_json|safe}},
            'recordings': {{recordings_json|safe}},
            'clips': {{clips_json|safe}},
            'settingsPresets': {{settings_presets_json|safe}},
            'settingsPresetPath': "{{settings_preset_path|default:''}}",
            'keyBindingsPresets': {{commands_presets_json|safe}},
            'keyBindingsPresetPath': "{{commands_preset_path|default:''}}",
            'archiveReadOnly': {{archive_read_only|yesno:"true,false"}}
        });
    </script>

    {% load staticfiles %}
    <link rel="stylesheet" type="text/css" href="{% static 'vesper/view/clip-album.css' %}">

</head>

<body>

    {% include "vesper/navbar.html" %}
    {% include "vesper/go-to-page-modal.html" %}
    {% include "vesper/clip-query-modal.html" %}
    {% include "vesper/clip-album-settings-modal.html" %}

    <div id="main-div" class="container">

        <div class="panel panel-default query-panel">

	        <div class="panel-body">

	            <form class="form-inline" role="form" action="{% url 'clip-album' %}" method="get">

        	        <div class="form-group form-spacing">
        	            <label for="station_mic">Station/mic:</label>
        	            <select class="form-control" id="station_mic" name="station_mic">
        	                {% for name in station_mic_names %}
        	                    {% if name == station_mic_name %}
        	                        <option selected>{{name}}</option>
        	                    {% else %}
        	                        <option>{{name}}</option>
        	                    {% endif %}
        	                {% endfor %}
        	            </select>
        	        </div>

        	        <div class="form-group form-spacing">
        	            <label for="detector">Detector:</label>
        	            <select class="form-control" id="detector" name="detector">
        	                {% for name in detector_names %}
        	                    {% if name == detector_name %}
        	                        <option selected>{{name}}</option>
        	                    {% else %}
        	                        <option>{{name}}</option>
        	                    {% endif %}
        	                {% endfor %}
        	            </select>
        	        </div>

        	        <div class="form-group form-spacing">
        	            <label for="classification">Classification:</label>
        	            <select class="form-control" id="classification" name="classification">
        	                {% for c in classifications %}
        	                    {% if c == classification %}
        	                        <option selected>{{c}}</option>
        	                    {% else %}
        	                        <option>{{c}}</option>
        	                    {% endif %}
        	                {% endfor %}
        	            </select>
        	        </div>

        	        <button type="submit" class="btn btn-default form-spacing">Submit</button>

	            </form>

	        </div>

	    </div>

    </div>

    <div id="title-div">

        <h3 id="title"></h3>
    
        <div id="nav-buttons">
        
            <button id="previous-page-button" type="button" class="btn-xs btn-default nav-button" data-toggle="tooltip" title="Previous Page">
                <span class="glyphicon glyphicon-chevron-left"></span>
            </button>
            
            <button id="next-page-button" type="button" class="btn-xs btn-default nav-button" data-toggle="tooltip" title="Next Page">
                <span class="glyphicon glyphicon-chevron-right"></span>
            </button>

            <div class="dropdown nav-dropdown">
            
                <button type="button" class="btn-xs btn-default dropdown-toggle nav-button" data-toggle="dropdown">
                    <span class="caret"></span>
                </button>
                
                <ul class="dropdown-menu dropdown-menu-right" role="menu">
                    <li><a id="go-to-page-anchor" class="dropdown-item nav-anchor" href="#go-to-page" data-toggle="modal" data-target="#go-to-page-modal">Go To Page...</a></li>
                    <li><a id="settings-anchor" class="dropdown-item nav-anchor" href="#settings" data-toggle="modal" data-target="#settings-modal">Edit Settings...</a></li>
                    <li><a id="clip-query-anchor" class="dropdown-item nav-anchor" href="#query" data-toggle="modal" data-target="#clip-query-modal">Edit Clip Query...</a></li>
                </ul>
                                
            </div>
            
        </div>
        
    </div>
        
    <div id="clips"></div>
    
    <!-- div id='footer'></div> -->

</body>

</html>
